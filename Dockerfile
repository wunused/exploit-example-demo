FROM ubuntu:18.04

# Configure timezone so that tzdata dependency does not require user input to
# configure.
# Reference: https://grigorkh.medium.com/fix-tzdata-hangs-docker-image-build-cdb52cc3360d
ENV TZ=America/New_York
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

RUN apt-get update && \
    apt-get install -y build-essential vim python3 python3-pip gdb git strace
RUN python3 -m pip install --upgrade pip && python3 -m pip install --upgrade pwntools

# Download (but don't enable) gef
RUN git clone https://github.com/hugsy/gef.git
# Uncomment below line to enable gef
#RUN echo source `pwd`/get/gef.py >> ~/.gdbinit

COPY . /pwn
WORKDIR /pwn

ENV export LC_CTYPE=C.UTF-8
ENV export PYTHONIOENCODING=utf8
